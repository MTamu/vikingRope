function br(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rr={exports:{}},pe={exports:{}},tr=function(e,r){return function(){for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];return e.apply(r,s)}},wr=tr,me=Object.prototype.toString,ve=function(t){return function(e){var r=me.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function T(t){return t=t.toLowerCase(),function(r){return ve(r)===t}}function ge(t){return Array.isArray(t)}function B(t){return typeof t>"u"}function Tr(t){return t!==null&&!B(t)&&t.constructor!==null&&!B(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var nr=T("ArrayBuffer");function kr(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&nr(t.buffer),e}function Or(t){return typeof t=="string"}function _r(t){return typeof t=="number"}function sr(t){return t!==null&&typeof t=="object"}function U(t){if(ve(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}var Ar=T("Date"),Sr=T("File"),xr=T("Blob"),Cr=T("FileList");function ye(t){return me.call(t)==="[object Function]"}function Pr(t){return sr(t)&&ye(t.pipe)}function Nr(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||me.call(t)===e||ye(t.toString)&&t.toString()===e)}var $r=T("URLSearchParams");function qr(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Dr(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Ee(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),ge(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(null,t[s],s,t)}function fe(){var t={};function e(s,i){U(t[i])&&U(s)?t[i]=fe(t[i],s):U(s)?t[i]=fe({},s):ge(s)?t[i]=s.slice():t[i]=s}for(var r=0,n=arguments.length;r<n;r++)Ee(arguments[r],e);return t}function jr(t,e,r){return Ee(e,function(s,i){r&&typeof s=="function"?t[i]=wr(s,r):t[i]=s}),t}function Ur(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function Lr(t,e,r,n){t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)}function Br(t,e,r){var n,s,i,o={};e=e||{};do{for(n=Object.getOwnPropertyNames(t),s=n.length;s-- >0;)i=n[s],o[i]||(e[i]=t[i],o[i]=!0);t=Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e}function Mr(t,e,r){t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;var n=t.indexOf(e,r);return n!==-1&&n===r}function Ir(t){if(!t)return null;var e=t.length;if(B(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r}var Fr=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),m={isArray:ge,isArrayBuffer:nr,isBuffer:Tr,isFormData:Nr,isArrayBufferView:kr,isString:Or,isNumber:_r,isObject:sr,isPlainObject:U,isUndefined:B,isDate:Ar,isFile:Sr,isBlob:xr,isFunction:ye,isStream:Pr,isURLSearchParams:$r,isStandardBrowserEnv:Dr,forEach:Ee,merge:fe,extend:jr,trim:qr,stripBOM:Ur,inherits:Lr,toFlatObject:Br,kindOf:ve,kindOfTest:T,endsWith:Mr,toArray:Ir,isTypedArray:Fr,isFileList:Cr},A=m;function Oe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ir=function(e,r,n){if(!r)return e;var s;if(n)s=n(r);else if(A.isURLSearchParams(r))s=r.toString();else{var i=[];A.forEach(r,function(u,f){u===null||typeof u>"u"||(A.isArray(u)?f=f+"[]":u=[u],A.forEach(u,function(d){A.isDate(d)?d=d.toISOString():A.isObject(d)&&(d=JSON.stringify(d)),i.push(Oe(f)+"="+Oe(d))}))}),s=i.join("&")}if(s){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e},Hr=m;function M(){this.handlers=[]}M.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};M.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};M.prototype.forEach=function(e){Hr.forEach(this.handlers,function(n){n!==null&&e(n)})};var zr=M,Jr=m,Vr=function(e,r){Jr.forEach(e,function(s,i){i!==r&&i.toUpperCase()===r.toUpperCase()&&(e[r]=s,delete e[i])})},W,_e;function P(){if(_e)return W;_e=1;var t=m;function e(s,i,o,a,u){Error.call(this),this.message=s,this.name="AxiosError",i&&(this.code=i),o&&(this.config=o),a&&(this.request=a),u&&(this.response=u)}t.inherits(e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var r=e.prototype,n={};return["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(s){n[s]={value:s}}),Object.defineProperties(e,n),Object.defineProperty(r,"isAxiosError",{value:!0}),e.from=function(s,i,o,a,u,f){var l=Object.create(r);return t.toFlatObject(s,l,function(c){return c!==Error.prototype}),e.call(l,s.message,i,o,a,u),l.name=s.name,f&&Object.assign(l,f),l},W=e,W}var ar={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},X,Ae;function or(){if(Ae)return X;Ae=1;var t=m;function e(r,n){n=n||new FormData;var s=[];function i(a){return a===null?"":t.isDate(a)?a.toISOString():t.isArrayBuffer(a)||t.isTypedArray(a)?typeof Blob=="function"?new Blob([a]):Buffer.from(a):a}function o(a,u){if(t.isPlainObject(a)||t.isArray(a)){if(s.indexOf(a)!==-1)throw Error("Circular reference detected in "+u);s.push(a),t.forEach(a,function(l,d){if(!t.isUndefined(l)){var c=u?u+"."+d:d,v;if(l&&!u&&typeof l=="object"){if(t.endsWith(d,"{}"))l=JSON.stringify(l);else if(t.endsWith(d,"[]")&&(v=t.toArray(l))){v.forEach(function(D){!t.isUndefined(D)&&n.append(c,i(D))});return}}o(l,c)}}),s.pop()}else n.append(u,i(a))}return o(r),n}return X=e,X}var K,Se;function Wr(){if(Se)return K;Se=1;var t=P();return K=function(r,n,s){var i=s.config.validateStatus;!s.status||!i||i(s.status)?r(s):n(new t("Request failed with status code "+s.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))},K}var Y,xe;function Xr(){if(xe)return Y;xe=1;var t=m;return Y=t.isStandardBrowserEnv()?function(){return{write:function(n,s,i,o,a,u){var f=[];f.push(n+"="+encodeURIComponent(s)),t.isNumber(i)&&f.push("expires="+new Date(i).toGMTString()),t.isString(o)&&f.push("path="+o),t.isString(a)&&f.push("domain="+a),u===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(n){var s=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Y}var Kr=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},Yr=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e},Qr=Kr,Gr=Yr,ur=function(e,r){return e&&!Qr(r)?Gr(e,r):r},Q,Ce;function Zr(){if(Ce)return Q;Ce=1;var t=m,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Q=function(n){var s={},i,o,a;return n&&t.forEach(n.split(`
`),function(f){if(a=f.indexOf(":"),i=t.trim(f.substr(0,a)).toLowerCase(),o=t.trim(f.substr(a+1)),i){if(s[i]&&e.indexOf(i)>=0)return;i==="set-cookie"?s[i]=(s[i]?s[i]:[]).concat([o]):s[i]=s[i]?s[i]+", "+o:o}}),s},Q}var G,Pe;function et(){if(Pe)return G;Pe=1;var t=m;return G=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),s;function i(o){var a=o;return r&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=i(window.location.href),function(a){var u=t.isString(a)?i(a):a;return u.protocol===s.protocol&&u.host===s.host}}():function(){return function(){return!0}}(),G}var Z,Ne;function I(){if(Ne)return Z;Ne=1;var t=P(),e=m;function r(n){t.call(this,n??"canceled",t.ERR_CANCELED),this.name="CanceledError"}return e.inherits(r,t,{__CANCEL__:!0}),Z=r,Z}var ee,$e;function rt(){return $e||($e=1,ee=function(e){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}),ee}var re,qe;function De(){if(qe)return re;qe=1;var t=m,e=Wr(),r=Xr(),n=ir,s=ur,i=Zr(),o=et(),a=ar,u=P(),f=I(),l=rt();return re=function(c){return new Promise(function(D,k){var N=c.data,$=c.headers,q=c.responseType,O;function we(){c.cancelToken&&c.cancelToken.unsubscribe(O),c.signal&&c.signal.removeEventListener("abort",O)}t.isFormData(N)&&t.isStandardBrowserEnv()&&delete $["Content-Type"];var h=new XMLHttpRequest;if(c.auth){var yr=c.auth.username||"",Er=c.auth.password?unescape(encodeURIComponent(c.auth.password)):"";$.Authorization="Basic "+btoa(yr+":"+Er)}var z=s(c.baseURL,c.url);h.open(c.method.toUpperCase(),n(z,c.params,c.paramsSerializer),!0),h.timeout=c.timeout;function Te(){if(h){var E="getAllResponseHeaders"in h?i(h.getAllResponseHeaders()):null,_=!q||q==="text"||q==="json"?h.responseText:h.response,b={data:_,status:h.status,statusText:h.statusText,headers:E,config:c,request:h};e(function(V){D(V),we()},function(V){k(V),we()},b),h=null}}if("onloadend"in h?h.onloadend=Te:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(Te)},h.onabort=function(){h&&(k(new u("Request aborted",u.ECONNABORTED,c,h)),h=null)},h.onerror=function(){k(new u("Network Error",u.ERR_NETWORK,c,h,h)),h=null},h.ontimeout=function(){var _=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded",b=c.transitional||a;c.timeoutErrorMessage&&(_=c.timeoutErrorMessage),k(new u(_,b.clarifyTimeoutError?u.ETIMEDOUT:u.ECONNABORTED,c,h)),h=null},t.isStandardBrowserEnv()){var ke=(c.withCredentials||o(z))&&c.xsrfCookieName?r.read(c.xsrfCookieName):void 0;ke&&($[c.xsrfHeaderName]=ke)}"setRequestHeader"in h&&t.forEach($,function(_,b){typeof N>"u"&&b.toLowerCase()==="content-type"?delete $[b]:h.setRequestHeader(b,_)}),t.isUndefined(c.withCredentials)||(h.withCredentials=!!c.withCredentials),q&&q!=="json"&&(h.responseType=c.responseType),typeof c.onDownloadProgress=="function"&&h.addEventListener("progress",c.onDownloadProgress),typeof c.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",c.onUploadProgress),(c.cancelToken||c.signal)&&(O=function(E){h&&(k(!E||E&&E.type?new f:E),h.abort(),h=null)},c.cancelToken&&c.cancelToken.subscribe(O),c.signal&&(c.signal.aborted?O():c.signal.addEventListener("abort",O))),N||(N=null);var J=l(z);if(J&&["http","https","file"].indexOf(J)===-1){k(new u("Unsupported protocol "+J+":",u.ERR_BAD_REQUEST,c));return}h.send(N)})},re}var te,je;function tt(){return je||(je=1,te=null),te}var p=m,Ue=Vr,Le=P(),nt=ar,st=or(),it={"Content-Type":"application/x-www-form-urlencoded"};function Be(t,e){!p.isUndefined(t)&&p.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function at(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=De()),t}function ot(t,e,r){if(p.isString(t))try{return(e||JSON.parse)(t),p.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var F={transitional:nt,adapter:at(),transformRequest:[function(e,r){if(Ue(r,"Accept"),Ue(r,"Content-Type"),p.isFormData(e)||p.isArrayBuffer(e)||p.isBuffer(e)||p.isStream(e)||p.isFile(e)||p.isBlob(e))return e;if(p.isArrayBufferView(e))return e.buffer;if(p.isURLSearchParams(e))return Be(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n=p.isObject(e),s=r&&r["Content-Type"],i;if((i=p.isFileList(e))||n&&s==="multipart/form-data"){var o=this.env&&this.env.FormData;return st(i?{"files[]":e}:e,o&&new o)}else if(n||s==="application/json")return Be(r,"application/json"),ot(e);return e}],transformResponse:[function(e){var r=this.transitional||F.transitional,n=r&&r.silentJSONParsing,s=r&&r.forcedJSONParsing,i=!n&&this.responseType==="json";if(i||s&&p.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(i)throw o.name==="SyntaxError"?Le.from(o,Le.ERR_BAD_RESPONSE,this,null,this.response):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tt()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};p.forEach(["delete","get","head"],function(e){F.headers[e]={}});p.forEach(["post","put","patch"],function(e){F.headers[e]=p.merge(it)});var Re=F,ut=m,lt=Re,ct=function(e,r,n){var s=this||lt;return ut.forEach(n,function(o){e=o.call(s,e,r)}),e},ne,Me;function lr(){return Me||(Me=1,ne=function(e){return!!(e&&e.__CANCEL__)}),ne}var Ie=m,se=ct,ft=lr(),ht=Re,dt=I();function ie(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new dt}var pt=function(e){ie(e),e.headers=e.headers||{},e.data=se.call(e,e.data,e.headers,e.transformRequest),e.headers=Ie.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Ie.forEach(["delete","get","head","post","put","patch","common"],function(s){delete e.headers[s]});var r=e.adapter||ht.adapter;return r(e).then(function(s){return ie(e),s.data=se.call(e,s.data,s.headers,e.transformResponse),s},function(s){return ft(s)||(ie(e),s&&s.response&&(s.response.data=se.call(e,s.response.data,s.response.headers,e.transformResponse))),Promise.reject(s)})},y=m,cr=function(e,r){r=r||{};var n={};function s(l,d){return y.isPlainObject(l)&&y.isPlainObject(d)?y.merge(l,d):y.isPlainObject(d)?y.merge({},d):y.isArray(d)?d.slice():d}function i(l){if(y.isUndefined(r[l])){if(!y.isUndefined(e[l]))return s(void 0,e[l])}else return s(e[l],r[l])}function o(l){if(!y.isUndefined(r[l]))return s(void 0,r[l])}function a(l){if(y.isUndefined(r[l])){if(!y.isUndefined(e[l]))return s(void 0,e[l])}else return s(void 0,r[l])}function u(l){if(l in r)return s(e[l],r[l]);if(l in e)return s(void 0,e[l])}var f={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return y.forEach(Object.keys(e).concat(Object.keys(r)),function(d){var c=f[d]||i,v=c(d);y.isUndefined(v)&&c!==u||(n[d]=v)}),n},ae,Fe;function fr(){return Fe||(Fe=1,ae={version:"0.27.2"}),ae}var mt=fr().version,R=P(),be={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){be[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var He={};be.transitional=function(e,r,n){function s(i,o){return"[Axios v"+mt+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return function(i,o,a){if(e===!1)throw new R(s(o," has been removed"+(r?" in "+r:"")),R.ERR_DEPRECATED);return r&&!He[o]&&(He[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,a):!0}};function vt(t,e,r){if(typeof t!="object")throw new R("options must be an object",R.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(t),s=n.length;s-- >0;){var i=n[s],o=e[i];if(o){var a=t[i],u=a===void 0||o(a,i,t);if(u!==!0)throw new R("option "+i+" must be "+u,R.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new R("Unknown option "+i,R.ERR_BAD_OPTION)}}var gt={assertOptions:vt,validators:be},hr=m,yt=ir,ze=zr,Je=pt,H=cr,Et=ur,dr=gt,S=dr.validators;function C(t){this.defaults=t,this.interceptors={request:new ze,response:new ze}}C.prototype.request=function(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=H(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&dr.assertOptions(n,{silentJSONParsing:S.transitional(S.boolean),forcedJSONParsing:S.transitional(S.boolean),clarifyTimeoutError:S.transitional(S.boolean)},!1);var s=[],i=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(i=i&&v.synchronous,s.unshift(v.fulfilled,v.rejected))});var o=[];this.interceptors.response.forEach(function(v){o.push(v.fulfilled,v.rejected)});var a;if(!i){var u=[Je,void 0];for(Array.prototype.unshift.apply(u,s),u=u.concat(o),a=Promise.resolve(r);u.length;)a=a.then(u.shift(),u.shift());return a}for(var f=r;s.length;){var l=s.shift(),d=s.shift();try{f=l(f)}catch(c){d(c);break}}try{a=Je(f)}catch(c){return Promise.reject(c)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};C.prototype.getUri=function(e){e=H(this.defaults,e);var r=Et(e.baseURL,e.url);return yt(r,e.params,e.paramsSerializer)};hr.forEach(["delete","get","head","options"],function(e){C.prototype[e]=function(r,n){return this.request(H(n||{},{method:e,url:r,data:(n||{}).data}))}});hr.forEach(["post","put","patch"],function(e){function r(n){return function(i,o,a){return this.request(H(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}C.prototype[e]=r(),C.prototype[e+"Form"]=r(!0)});var Rt=C,oe,Ve;function bt(){if(Ve)return oe;Ve=1;var t=I();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var s=this;this.promise.then(function(i){if(s._listeners){var o,a=s._listeners.length;for(o=0;o<a;o++)s._listeners[o](i);s._listeners=null}}),this.promise.then=function(i){var o,a=new Promise(function(u){s.subscribe(u),o=u}).then(i);return a.cancel=function(){s.unsubscribe(o)},a},r(function(o){s.reason||(s.reason=new t(o),n(s.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var s=this._listeners.indexOf(n);s!==-1&&this._listeners.splice(s,1)}},e.source=function(){var n,s=new e(function(o){n=o});return{token:s,cancel:n}},oe=e,oe}var ue,We;function wt(){return We||(We=1,ue=function(e){return function(n){return e.apply(null,n)}}),ue}var le,Xe;function Tt(){if(Xe)return le;Xe=1;var t=m;return le=function(r){return t.isObject(r)&&r.isAxiosError===!0},le}var Ke=m,kt=tr,L=Rt,Ot=cr,_t=Re;function pr(t){var e=new L(t),r=kt(L.prototype.request,e);return Ke.extend(r,L.prototype,e),Ke.extend(r,e),r.create=function(s){return pr(Ot(t,s))},r}var g=pr(_t);g.Axios=L;g.CanceledError=I();g.CancelToken=bt();g.isCancel=lr();g.VERSION=fr().version;g.toFormData=or();g.AxiosError=P();g.Cancel=g.CanceledError;g.all=function(e){return Promise.all(e)};g.spread=wt();g.isAxiosError=Tt();pe.exports=g;pe.exports.default=g;(function(t){t.exports=pe.exports})(rr);const At=br(rr.exports);var St=Object.defineProperty,xt=Object.defineProperties,Ct=Object.getOwnPropertyDescriptors,Ye=Object.getOwnPropertySymbols,Pt=Object.prototype.hasOwnProperty,Nt=Object.prototype.propertyIsEnumerable,Qe=(t,e,r)=>e in t?St(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,w=(t,e)=>{for(var r in e||(e={}))Pt.call(e,r)&&Qe(t,r,e[r]);if(Ye)for(var r of Ye(e))Nt.call(e,r)&&Qe(t,r,e[r]);return t},ce=(t,e)=>xt(t,Ct(e));let Ge=!1;const Ze=[],$t=t=>new Promise((e,r)=>{if(typeof window>"u"||(window.storyblokRegisterEvent=s=>{if(window.location===window.parent.location){console.warn("You are not in Draft Mode or in the Visual Editor.");return}Ge?s():Ze.push(s)},document.getElementById("storyblok-javascript-bridge")))return;const n=document.createElement("script");n.async=!0,n.src=t,n.id="storyblok-javascript-bridge",n.onerror=s=>r(s),n.onload=s=>{Ze.forEach(i=>i()),Ge=!0,e(s)},document.getElementsByTagName("head")[0].appendChild(n)}),qt=function(t,e){if(!t)return null;let r={};for(let n in t){let s=t[n];e.indexOf(n)>-1&&s!==null&&(r[n]=s)}return r},Dt=t=>t==="email";var jt={nodes:{horizontal_rule(){return{singleTag:"hr"}},blockquote(){return{tag:"blockquote"}},bullet_list(){return{tag:"ul"}},code_block(t){return{tag:["pre",{tag:"code",attrs:t.attrs}]}},hard_break(){return{singleTag:"br"}},heading(t){return{tag:`h${t.attrs.level}`}},image(t){return{singleTag:[{tag:"img",attrs:qt(t.attrs,["src","alt","title"])}]}},list_item(){return{tag:"li"}},ordered_list(){return{tag:"ol"}},paragraph(){return{tag:"p"}}},marks:{bold(){return{tag:"b"}},strike(){return{tag:"strike"}},underline(){return{tag:"u"}},strong(){return{tag:"strong"}},code(){return{tag:"code"}},italic(){return{tag:"i"}},link(t){const e=w({},t.attrs),{linktype:r="url"}=t.attrs;return Dt(r)&&(e.href=`mailto:${e.href}`),e.anchor&&(e.href=`${e.href}#${e.anchor}`,delete e.anchor),{tag:[{tag:"a",attrs:e}]}},styled(t){return{tag:[{tag:"span",attrs:t.attrs}]}}}};const Ut=function(t){const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},r=/[&<>"']/g,n=RegExp(r.source);return t&&n.test(t)?t.replace(r,s=>e[s]):t};class mr{constructor(e){e||(e=jt),this.marks=e.marks||[],this.nodes=e.nodes||[]}addNode(e,r){this.nodes[e]=r}addMark(e,r){this.marks[e]=r}render(e={}){if(e.content&&Array.isArray(e.content)){let r="";return e.content.forEach(n=>{r+=this.renderNode(n)}),r}return console.warn("The render method must receive an object with a content field, which is an array"),""}renderNode(e){let r=[];e.marks&&e.marks.forEach(s=>{const i=this.getMatchingMark(s);i&&r.push(this.renderOpeningTag(i.tag))});const n=this.getMatchingNode(e);return n&&n.tag&&r.push(this.renderOpeningTag(n.tag)),e.content?e.content.forEach(s=>{r.push(this.renderNode(s))}):e.text?r.push(Ut(e.text)):n&&n.singleTag?r.push(this.renderTag(n.singleTag," /")):n&&n.html&&r.push(n.html),n&&n.tag&&r.push(this.renderClosingTag(n.tag)),e.marks&&e.marks.slice(0).reverse().forEach(s=>{const i=this.getMatchingMark(s);i&&r.push(this.renderClosingTag(i.tag))}),r.join("")}renderTag(e,r){return e.constructor===String?`<${e}${r}>`:e.map(s=>{if(s.constructor===String)return`<${s}${r}>`;{let i=`<${s.tag}`;if(s.attrs)for(let o in s.attrs){let a=s.attrs[o];a!==null&&(i+=` ${o}="${a}"`)}return`${i}${r}>`}}).join("")}renderOpeningTag(e){return this.renderTag(e,"")}renderClosingTag(e){return e.constructor===String?`</${e}>`:e.slice(0).reverse().map(n=>n.constructor===String?`</${n}>`:`</${n.tag}>`).join("")}getMatchingNode(e){if(typeof this.nodes[e.type]=="function")return this.nodes[e.type](e)}getMatchingMark(e){if(typeof this.marks[e.type]=="function")return this.marks[e.type](e)}}function er(t){return typeof t=="number"&&t==t&&t!==1/0&&t!==-1/0}function vr(t,e,r){if(!er(e))throw new TypeError("Expected `limit` to be a finite number");if(!er(r))throw new TypeError("Expected `interval` to be a finite number");var n=[],s=[],i=0,o=function(){i++;var u=setTimeout(function(){i--,n.length>0&&o(),s=s.filter(function(l){return l!==u})},r);s.indexOf(u)<0&&s.push(u);var f=n.shift();f.resolve(t.apply(f.self,f.args))},a=function(){var u=arguments,f=this;return new Promise(function(l,d){n.push({resolve:l,reject:d,args:u,self:f}),i<e&&o()})};return a.abort=function(){s.forEach(clearTimeout),s=[],n.forEach(function(u){u.reject(new throttle.AbortError)}),n.length=0},a}vr.AbortError=function(){Error.call(this,"Throttled function aborted"),this.name="AbortError"};const Lt=function(t,e){if(!t)return null;let r={};for(let n in t){let s=t[n];e.indexOf(n)>-1&&s!==null&&(r[n]=s)}return r};var Bt={nodes:{horizontal_rule:()=>({singleTag:"hr"}),blockquote:()=>({tag:"blockquote"}),bullet_list:()=>({tag:"ul"}),code_block:t=>({tag:["pre",{tag:"code",attrs:t.attrs}]}),hard_break:()=>({singleTag:"br"}),heading:t=>({tag:`h${t.attrs.level}`}),image:t=>({singleTag:[{tag:"img",attrs:Lt(t.attrs,["src","alt","title"])}]}),list_item:()=>({tag:"li"}),ordered_list:()=>({tag:"ol"}),paragraph:()=>({tag:"p"})},marks:{bold:()=>({tag:"b"}),strike:()=>({tag:"strike"}),underline:()=>({tag:"u"}),strong:()=>({tag:"strong"}),code:()=>({tag:"code"}),italic:()=>({tag:"i"}),link(t){const e=w({},t.attrs),{linktype:r="url"}=t.attrs;return r==="email"&&(e.href=`mailto:${e.href}`),e.anchor&&(e.href=`${e.href}#${e.anchor}`,delete e.anchor),{tag:[{tag:"a",attrs:e}]}},styled:t=>({tag:[{tag:"span",attrs:t.attrs}]})}};class Mt{constructor(e){e||(e=Bt),this.marks=e.marks||[],this.nodes=e.nodes||[]}addNode(e,r){this.nodes[e]=r}addMark(e,r){this.marks[e]=r}render(e={}){if(e.content&&Array.isArray(e.content)){let r="";return e.content.forEach(n=>{r+=this.renderNode(n)}),r}return console.warn("The render method must receive an object with a content field, which is an array"),""}renderNode(e){let r=[];e.marks&&e.marks.forEach(s=>{const i=this.getMatchingMark(s);i&&r.push(this.renderOpeningTag(i.tag))});const n=this.getMatchingNode(e);return n&&n.tag&&r.push(this.renderOpeningTag(n.tag)),e.content?e.content.forEach(s=>{r.push(this.renderNode(s))}):e.text?r.push(function(s){const i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},o=/[&<>"']/g,a=RegExp(o.source);return s&&a.test(s)?s.replace(o,u=>i[u]):s}(e.text)):n&&n.singleTag?r.push(this.renderTag(n.singleTag," /")):n&&n.html&&r.push(n.html),n&&n.tag&&r.push(this.renderClosingTag(n.tag)),e.marks&&e.marks.slice(0).reverse().forEach(s=>{const i=this.getMatchingMark(s);i&&r.push(this.renderClosingTag(i.tag))}),r.join("")}renderTag(e,r){return e.constructor===String?`<${e}${r}>`:e.map(n=>{if(n.constructor===String)return`<${n}${r}>`;{let s=`<${n.tag}`;if(n.attrs)for(let i in n.attrs){let o=n.attrs[i];o!==null&&(s+=` ${i}="${o}"`)}return`${s}${r}>`}}).join("")}renderOpeningTag(e){return this.renderTag(e,"")}renderClosingTag(e){return e.constructor===String?`</${e}>`:e.slice(0).reverse().map(r=>r.constructor===String?`</${r}>`:`</${r.tag}>`).join("")}getMatchingNode(e){if(typeof this.nodes[e.type]=="function")return this.nodes[e.type](e)}getMatchingMark(e){if(typeof this.marks[e.type]=="function")return this.marks[e.type](e)}}const It=(t=0,e=t)=>{const r=Math.abs(e-t)||0,n=t<e?1:-1;return((s=0,i)=>[...Array(s)].map(i))(r,(s,i)=>i*n+t)},he=(t,e,r)=>{const n=[];for(const s in t){if(!Object.prototype.hasOwnProperty.call(t,s))continue;const i=t[s],o=r?"":encodeURIComponent(s);let a;a=typeof i=="object"?he(i,e?e+encodeURIComponent("["+o+"]"):o,Array.isArray(i)):(e?e+encodeURIComponent("["+o+"]"):o)+"="+encodeURIComponent(i),n.push(a)}return n.join("&")};let j={},x={};class Ft{constructor(e,r){if(!r){let i=e.region?`-${e.region}`:"",o=e.https===!1?"http":"https";r=e.oauthToken===void 0?`${o}://api${i}.storyblok.com/v2`:`${o}://api${i}.storyblok.com/v1`}let n=Object.assign({},e.headers),s=5;e.oauthToken!==void 0&&(n.Authorization=e.oauthToken,s=3),e.rateLimit!==void 0&&(s=e.rateLimit),this.richTextResolver=new Mt(e.richTextSchema),typeof e.componentResolver=="function"&&this.setComponentResolver(e.componentResolver),this.maxRetries=e.maxRetries||5,this.throttle=vr(this.throttledRequest,s,1e3),this.accessToken=e.accessToken,this.relations={},this.links={},this.cache=e.cache||{clear:"manual"},this.client=At.create({baseURL:r,timeout:e.timeout||0,headers:n,proxy:e.proxy||!1}),e.responseInterceptor&&this.client.interceptors.response.use(i=>e.responseInterceptor(i)),this.resolveNestedRelations=e.resolveNestedRelations||!0}setComponentResolver(e){this.richTextResolver.addNode("blok",r=>{let n="";return r.attrs.body.forEach(s=>{n+=e(s.component,s)}),{html:n}})}parseParams(e={}){return e.version||(e.version="published"),e.token||(e.token=this.getToken()),e.cv||(e.cv=x[e.token]),Array.isArray(e.resolve_relations)&&(e.resolve_relations=e.resolve_relations.join(",")),e}factoryParamOptions(e,r={}){return((n="")=>n.indexOf("/cdn/")>-1)(e)?this.parseParams(r):r}makeRequest(e,r,n,s){const i=this.factoryParamOptions(e,((o={},a=25,u=1)=>ce(w({},o),{per_page:a,page:u}))(r,n,s));return this.cacheResponse(e,i)}get(e,r){let n=`/${e}`;const s=this.factoryParamOptions(n,r);return this.cacheResponse(n,s)}async getAll(e,r={},n){const s=r.per_page||25,i=`/${e}`,o=i.split("/");n=n||o[o.length-1];const a=await this.makeRequest(i,r,s,1),u=a.total?Math.ceil(a.total/s):1;return((f=[],l)=>f.map(l).reduce((d,c)=>[...d,...c],[]))([a,...await(async(f=[],l)=>Promise.all(f.map(l)))(It(1,u),async f=>this.makeRequest(i,r,s,f+1))],f=>Object.values(f.data[n]))}post(e,r){let n=`/${e}`;return this.throttle("post",n,r)}put(e,r){let n=`/${e}`;return this.throttle("put",n,r)}delete(e,r){let n=`/${e}`;return this.throttle("delete",n,r)}getStories(e){return this.get("cdn/stories",e)}getStory(e,r){return this.get(`cdn/stories/${e}`,r)}setToken(e){this.accessToken=e}getToken(){return this.accessToken}_cleanCopy(e){return JSON.parse(JSON.stringify(e))}_insertLinks(e,r){const n=e[r];n&&n.fieldtype=="multilink"&&n.linktype=="story"&&typeof n.id=="string"&&this.links[n.id]?n.story=this._cleanCopy(this.links[n.id]):n&&n.linktype==="story"&&typeof n.uuid=="string"&&this.links[n.uuid]&&(n.story=this._cleanCopy(this.links[n.uuid]))}_insertRelations(e,r,n){if(n.indexOf(e.component+"."+r)>-1){if(typeof e[r]=="string")this.relations[e[r]]&&(e[r]=this._cleanCopy(this.relations[e[r]]));else if(e[r].constructor===Array){let s=[];e[r].forEach(i=>{this.relations[i]&&s.push(this._cleanCopy(this.relations[i]))}),e[r]=s}}}_insertAssetsRelations(e,r){r.forEach(n=>{e.id===n.id&&(e.original=n,e.original.filename=e.filename,e.original.filename=e.original.filename.includes("https://s3.amazonaws.com/")?e.original.filename:e.original.filename.replace("https://","https://s3.amazonaws.com/"),delete e.original.s3_filename)})}iterateTree(e,r){let n=s=>{if(s!=null){if(s.constructor===Array)for(let i=0;i<s.length;i++)n(s[i]);else if(s.constructor===Object){if(s._stopResolving)return;for(let i in s)s.component&&s._uid||s.type==="link"?(this._insertRelations(s,i,r),this._insertLinks(s,i)):"id"in s&&s.fieldtype==="asset"&&this._insertAssetsRelations(s,r),n(s[i])}}};n(e.content)}async resolveLinks(e,r){let n=[];if(e.link_uuids){const s=e.link_uuids.length;let i=[];const o=50;for(let a=0;a<s;a+=o){const u=Math.min(s,a+o);i.push(e.link_uuids.slice(a,u))}for(let a=0;a<i.length;a++)(await this.getStories({per_page:o,language:r.language,version:r.version,by_uuids:i[a].join(",")})).data.stories.forEach(u=>{n.push(u)})}else n=e.links;n.forEach(s=>{this.links[s.uuid]=ce(w({},s),{_stopResolving:!0})})}async resolveRelations(e,r){let n=[];if(e.rel_uuids){const s=e.rel_uuids.length;let i=[];const o=50;for(let a=0;a<s;a+=o){const u=Math.min(s,a+o);i.push(e.rel_uuids.slice(a,u))}for(let a=0;a<i.length;a++)(await this.getStories({per_page:o,language:r.language,version:r.version,by_uuids:i[a].join(",")})).data.stories.forEach(u=>{n.push(u)})}else n=e.rels;n.forEach(s=>{this.relations[s.uuid]=ce(w({},s),{_stopResolving:!0})})}async resolveStories(e,r){let n=[];if(r.resolve_relations!==void 0&&r.resolve_relations.length>0&&(e.rels||e.rel_uuids)&&(n=r.resolve_relations.split(","),await this.resolveRelations(e,r)),["1","story","url"].indexOf(r.resolve_links)>-1&&(e.links||e.link_uuids)&&await this.resolveLinks(e,r),this.resolveNestedRelations)for(const s in this.relations)this.iterateTree(this.relations[s],n);e.story?this.iterateTree(e.story,n):e.stories.forEach(s=>{this.iterateTree(s,n)})}resolveAssetsRelations(e){const{assets:r,stories:n,story:s}=e;if(n)for(const i of n)this.iterateTree(i,r);else{if(!s)return e;this.iterateTree(s,r)}}cacheResponse(e,r,n){return n===void 0&&(n=0),new Promise(async(s,i)=>{let o=he({url:e,params:r}),a=this.cacheProvider();if(this.cache.clear==="auto"&&r.version==="draft"&&await this.flushCache(),r.version==="published"&&e!="/cdn/spaces/me"){const f=await a.get(o);if(f)return s(f)}try{let f=await this.throttle("get",e,{params:r,paramsSerializer:d=>he(d)}),l={data:f.data,headers:f.headers};if(l.data.assets&&l.data.assets.length&&this.resolveAssetsRelations(l.data),l=Object.assign({},l,{perPage:f.headers["per-page"]?parseInt(f.headers["per-page"]):0,total:f.headers["per-page"]?parseInt(f.headers.total):0}),f.status!=200)return i(f);(l.data.story||l.data.stories)&&await this.resolveStories(l.data,r),r.version==="published"&&e!="/cdn/spaces/me"&&a.set(o,l),l.data.cv&&(r.version=="draft"&&x[r.token]!=l.data.cv&&this.flushCache(),x[r.token]=l.data.cv),s(l)}catch(f){if(f.response&&f.response.status===429&&(n+=1)<this.maxRetries)return console.log(`Hit rate limit. Retrying in ${n} seconds.`),await(u=1e3*n,new Promise(l=>setTimeout(l,u))),this.cacheResponse(e,r,n).then(s).catch(i);i(f)}var u})}throttledRequest(e,r,n){return this.client[e](r,n)}cacheVersions(){return x}cacheVersion(){return x[this.accessToken]}setCacheVersion(e){this.accessToken&&(x[this.accessToken]=e)}cacheProvider(){return this.cache.type==="memory"?{get:e=>j[e],getAll:()=>j,set(e,r){j[e]=r},flush(){j={}}}:{get(){},getAll(){},set(){},flush(){}}}async flushCache(){return await this.cacheProvider().flush(),this}}const zt=(t={})=>{const{apiOptions:e}=t;if(!e.accessToken){console.error("You need to provide an access token to interact with Storyblok API. Read https://www.storyblok.com/docs/api/content-delivery#topics/authentication");return}return{storyblokApi:new Ft(e)}};let de;const Ht="https://app.storyblok.com/f/storyblok-v2-latest.js",Jt=(t={})=>{const{bridge:e,accessToken:r,use:n=[],apiOptions:s={},richText:i={}}=t;s.accessToken=s.accessToken||r;const o={bridge:e,apiOptions:s};let a={};return n.forEach(u=>{a=w(w({},a),u(o))}),e!==!1&&$t(Ht),de=new mr(i.schema),i.resolver&&gr(de,i.resolver),a},gr=(t,e)=>{t.addNode("blok",r=>{let n="";return r.attrs.body.forEach(s=>{n+=e(s.component,s)}),{html:n}})},Vt=(t,e,r)=>{let n=r||de;if(!n){console.error("Please initialize the Storyblok SDK before calling the renderRichText function");return}return t===""?"":t?(e&&(n=new mr(e.schema),e.resolver&&gr(n,e.resolver)),n.render(t)):(console.warn(`${t} is not a valid Richtext object. This might be because the value of the richtext field is empty.
    
  For more info about the richtext object check https://github.com/storyblok/storyblok-js#rendering-rich-text`),"")};export{zt as a,Vt as r,Jt as s};
